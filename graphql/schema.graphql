type Query {

  # Meilisearch arama
  searchProducts(
    query: String!
    brand: String
    minPrice: Float
    maxPrice: Float
    inStock: Boolean
    page: Int = 1
    perPage: Int = 20
  ): ProductPagination!
    @field(resolver: "App\\GraphQL\\Queries\\ProductQuery@search")

  # Normal listeleme (DB’den)
  products(
    page: Int = 1
    perPage: Int = 20
  ): ProductPaginator!
    @field(resolver: "App\\GraphQL\\Queries\\ProductQuery@products")
}

"""
Normal DB pagination için tip (products)
"""
type ProductPaginator {
  data: [Product!]!
  paginatorInfo: PaginatorInfo!
}

"""
Meilisearch arama için tip (searchProducts)
"""
type ProductPagination {
  data: [Product!]!
  current_page: Int!
  last_page: Int!
  total: Int!
}

"""
Global paginator info
"""
type PaginatorInfo {
  count: Int!
  currentPage: Int!
  firstItem: Int
  hasMorePages: Boolean!
  lastItem: Int
  lastPage: Int!
  perPage: Int!
  total: Int!
}

"""
Product Model
"""
type Product {
  id: ID!
  uuid: String
  title: String!
  slug: String
  sku: String
  brand: String
  price: Float!
  stock: Int!
  is_active: Boolean!
}
